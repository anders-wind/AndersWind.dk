parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"LyuW":[function(require,module,exports) {

},{}],"O05V":[function(require,module,exports) {
"use strict";function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Press=void 0;var n=t(function e(t){r(this,e),i(this,"current",{x:0,y:0}),i(this,"old",{x:0,y:0}),i(this,"delta",{x:0,y:0}),i(this,"power",0),i(this,"isDead",!1),i(this,"isMouse",!1),i(this,"id",void 0),this.id=t});exports.Press=n;
},{}],"We63":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nattribute vec2 position;\n  void main() {\n    gl_Position = vec4(position, 0, 1);\n  }";
},{}],"Vpq1":[function(require,module,exports) {
module.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform float time;\nuniform float gravity;\nuniform float reach;\nuniform int amtPresses;\nuniform vec2 resolution;\nuniform vec2 rotation;\nuniform vec2 pitch; // number of grids\nuniform vec3 presses[6];\n\nvec4 grid(float modX, float modY, float strength) {\n\tfloat density = 0.4 * (1.0 - abs((2.0-min(modX, modY))/2.0)); // grid alpa 0.5 and then anti alias.\n\treturn vec4(0.0, 0.0, 0.0, density*strength);\n}\n\nvoid main() {\n    float resLength = length(resolution);\n\n    vec2 pull = vec2(0.0, 0.0);\n    float strength = 0.15;\n    for(int i = 0; i<=6; i++){\n        if (amtPresses==i)\n            break;\n        vec3 press = presses[i];\n        vec2 delta = press.xy-gl_FragCoord.xy;\n        float distance = length(delta);\n        pull += delta * (gravity*press.z / (distance*distance + reach));\n        \n        float fade = max(0.0, 0.9-distance/resLength); // 1.2 due to some scaling\n        float dist = min(1.0, max(0.0, press.z));\n        strength = max(strength, fade*dist);\n    }\n\n    vec2 newPos = pitch + pull;\n\n    float modX = mod(reach + gl_FragCoord.x, newPos.x);\n    float modY = mod(reach + gl_FragCoord.y, newPos.y);\n\n\tgl_FragColor = grid(modX, modY, strength);\n}";
},{}],"rvka":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Renderer=void 0;var e=require("./Press");function t(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=r(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var s=0,n=function(){};return{s:n,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,h=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){h=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(h)throw a}}}}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=require("./glsl/2d-vertex-shader.glsl"),u=require("./glsl/2d-fragment-shader.glsl"),l=function(){function r(){s(this,r),o(this,"gl",null),o(this,"program",null),o(this,"canvas",document.createElement("canvas")),o(this,"start",(new Date).getTime()),o(this,"idMapper",Array(0)),o(this,"presses",Array(6))}return a(r,[{key:"renderGravityGrid",value:function(e){var t=this;this.canvas.style.width="100%",this.canvas.style.height="100%",e.appendChild(this.canvas),this.gl=this.canvas.getContext("experimental-webgl"),window.onload=function(){t.init(),t.render()}}},{key:"takeFirstFreeIndex",value:function(e){for(var t=0;t<this.presses.length;t++)if(!this.presses[t]||-1===this.presses[t].id)return this.idMapper[e]=t,t;return-1}},{key:"takeFirstFreeIndexMouse",value:function(){for(var e=this.presses.length-1;e>=0;e--){if(!this.presses[e]||-1===this.presses[e].id)return this.idMapper[e]=e,e;if(this.presses[e].isMouse&&this.presses[e].isDead&&this.presses[e].power<=2)return this.idMapper[e]=e,e}return-1}},{key:"findActiveMouse",value:function(){for(var e=this.presses.length-1;e>=0;e--)if(this.presses[e]&&-1!==this.presses[e].id&&!this.presses[e].isDead&&this.presses[e].isMouse)return this.presses[e];return null}},{key:"getPos",value:function(e,t,r){var i=e.getBoundingClientRect();return{x:(t-i.left)/(i.right-i.left)*e.width,y:(r-i.bottom)/(i.top-i.bottom)*e.height}}},{key:"getMousePos",value:function(e,t){var r=t;return this.getPos(e,r.clientX,r.clientY)}},{key:"getTouchPos",value:function(e,t){e.getBoundingClientRect();return this.getPos(e,t.clientX,t.clientY)}},{key:"getSize",value:function(){this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight}},{key:"setTimedInterval",value:function(e,t,r,i){var s=window.setInterval(e,r);window.setTimeout(function(){window.clearInterval(s),t()},i)}},{key:"addListeners",value:function(){var t=this;this.canvas.addEventListener("mouseenter",function(r){var i=t.takeFirstFreeIndexMouse();if(i>0){var s=new e.Press(i);s.isMouse=!0,s.current=t.getMousePos(t.canvas,r),s.old=s.current,t.presses[i]=s}},!1),this.canvas.addEventListener("mousemove",function(r){var i=t.findActiveMouse();if(i)i&&(i.old=i.current,i.current=t.getMousePos(t.canvas,r));else{var s=t.takeFirstFreeIndexMouse();s&&((i=new e.Press(s)).isMouse=!0,i.current=t.getMousePos(t.canvas,r),i.old=i.current,t.presses[s]=i)}},!1),this.canvas.addEventListener("mouseleave",function(e){var r=t.findActiveMouse();r&&(r.isDead=!0)},!1),this.canvas.addEventListener("touchstart",function(r){r.preventDefault();for(var i=0;i<r.changedTouches.length;i++){var s=r.changedTouches[i],n=t.takeFirstFreeIndex(s.identifier);if(n>=0){var a=new e.Press(n);a.current=t.getTouchPos(t.canvas,s),a.old=a.current,t.presses[a.id]=a}}},!1),this.canvas.addEventListener("touchmove",function(e){e.preventDefault();for(var r=0;r<e.changedTouches.length;r++){var i=e.changedTouches[r],s=t.idMapper[i.identifier];if(s>=0){var n=t.presses[s];n.old=n.current,n.current=t.getTouchPos(t.canvas,i)}}},!1),this.canvas.addEventListener("touchend",function(r){r.preventDefault();for(var i=Array(),s=0;s<r.changedTouches.length;s++){var n=r.changedTouches[s],a=t.idMapper[n.identifier];if(a>=0){var o=t.presses[a];o.delta={x:o.current.x-o.old.x,y:o.current.y-o.old.y},o.isDead=!0,i.push(a)}}t.setTimedInterval(function(){for(var e=0;e<i.length;e++){var r=i[e];if(r>=0){var s=t.presses[r];s.current={x:s.current.x+s.delta.x*s.power/250,y:s.current.y+s.delta.y*s.power/250}}}},function(){for(var r=0;r<i.length;r++){var s=i[r];t.presses[s]=new e.Press(-1)}},18,2e3)},!1),window.onresize=function(){return setTimeout(function(){return t.getSize()},1)}}},{key:"init",value:function(){var e,t;if(this.addListeners(),this.getSize(),this.gl){var r=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),this.gl.STATIC_DRAW),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight),e=this.gl.createShader(this.gl.VERTEX_SHADER),this.gl.shaderSource(e,h),this.gl.compileShader(e),t=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.gl.shaderSource(t,u),this.gl.compileShader(t),this.program=this.gl.createProgram(),this.gl.attachShader(this.program,e),this.gl.attachShader(this.program,t),this.gl.linkProgram(this.program),this.gl.useProgram(this.program)}}},{key:"addGLProperties",value:function(){if(this.gl){var e=this.gl.getAttribLocation(this.program,"position");this.gl.enableVertexAttribArray(e),this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!0,0,0);var t=this.gl.getUniformLocation(this.program,"resolution");this.gl.uniform2f(t,this.canvas.width,this.canvas.height);var r=this.gl.getUniformLocation(this.program,"rotation");this.gl.uniform2f(r,.5,.8);var i=this.gl.getUniformLocation(this.program,"time");this.gl.uniform1f(i,((new Date).getTime()-this.start)/1e3);var s=this.gl.getUniformLocation(this.program,"gravity");this.gl.uniform1f(s,70);var n=this.gl.getUniformLocation(this.program,"reach");this.gl.uniform1f(n,1e4);var a=this.gl.getUniformLocation(this.program,"offset");this.gl.uniform2f(a,0,0);var o=this.gl.getUniformLocation(this.program,"pitch");this.gl.uniform2f(o,80,80);for(var h=0,u=0;u<7;u++)if(this.presses[u]&&-1!==this.presses[u].id){var l=this.gl.getUniformLocation(this.program,"presses["+h+"]");this.gl.uniform3f(l,this.presses[u].current.x,this.presses[u].current.y,this.presses[u].power/250),h++}var c=this.gl.getUniformLocation(this.program,"amtPresses");this.gl.uniform1i(c,h)}}},{key:"render",value:function(){var e=this;if(this.gl){this.addGLProperties(),this.gl.drawArrays(this.gl.TRIANGLES,0,6),requestAnimationFrame(function(){return e.render()});var r,i=t(this.presses);try{for(i.s();!(r=i.n()).done;){var s=r.value;s&&s.isDead&&s.power>0?s.power-=2:s&&!s.isDead&&s.power<200&&(s.power+=7)}}catch(n){i.e(n)}finally{i.f()}}}}]),r}();exports.Renderer=l;
},{"./Press":"O05V","./glsl/2d-vertex-shader.glsl":"We63","./glsl/2d-fragment-shader.glsl":"Vpq1"}],"EVxB":[function(require,module,exports) {
"use strict";require("./acrylic.scss"),require("./base.scss");var e=require("./renderer"),r=new e.Renderer,s=document.getElementById("grid");s&&r.renderGravityGrid(s);
},{"./acrylic.scss":"LyuW","./base.scss":"LyuW","./renderer":"rvka"}]},{},["EVxB"], null)
//# sourceMappingURL=app.7f707df3.js.map