{"version":3,"sources":["Press.ts","glsl/2d-vertex-shader.glsl","glsl/2d-fragment-shader.glsl","renderer.ts","app.ts","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["module","exports","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length"],"mappings":"AKAA,ACAA,AJAAA,ADAAA,IIAIE,ACAAW,EJAE,ADAA,CCACZ,ADAAA,GKAG,GDAG,ACAAa,CJAb,ADAA,EIAgB,CHAD,ADAA,GIAf,ACAoB,CAAC,cAAD,CAApB,yFLAA,koCCAA;;AGCA,ACCA,AFFA,SCCSX,ACCAY,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;EAC5B,ACCA,IDDI,ACCAC,CDDCf,MCCM,GDDX,ACCcc,EDDE,ECCE,CAACE,SAAL,EAAd;AFFF,ICEIhB,SAAS,GAAGE,YAAY,EAAxB;EACD,ACADa,OAAO,CAACE,MAAR,GAAiB,YAAY;AFD/B,IEEIH,IAAI,CAACI,MAAL;AHLJ,EEME,ACAC,CAFD,MDEOlB,SAAP;AACD,ADFD,IAAM,QAAQ,GAAgB,IAAI,kBAAJ,EAA9B;AAEA,EEAEe,EFAI,EAAE,GEAC,AFAE,CEADI,IAAR,GAAeL,AFAE,CAAC,GEAC,CAACK,IAAL,CAAUC,KAAV,AFAN,CEAsB,AFAE,GEAlB,EAAqB,CAArB,AFAN,CAAX,GEA2C,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ECDER,IAAI,CAACS,EDCErB,QCDP,CAAgBsB,GDClB,GAAwB,MCDtB,CAA6BT,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;AACD,AFDD,ECEE,EDFE,EAAJ,EAAQ;ECGN,ADFA,ICEI,IDFI,CAAC,iBAAT,CAA2B,EAA3B;AEEF,AFDC,ICEG,ACDAC,MDCM,IAAIvB,ACDA,GAAG,EDCP,EAAN,ACDJ;EDEG,CAFD,CAEE,OAAOC,GAAP,EAAY;ACDhB,IDEI,ALdS,IKcLC,CCFCsB,MDEM,GAAG,ACFlB,CDEmB,ECFE,GDEGvB,GAAG,CAACE,KAAV,EAAiBC,GLJjC,EKIgB,CAAuB,YLJ3B,EAAZ,EAAsB,+CKIN,CAAd;ECDF,ANHsB,IMGlBmB,UAAJ,EAAgB;IDEd,ACDA,IDCIrB,OAAJ,EAAa;ECAd,ANLqB,IKMlB,OAAOG,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB,ALfuC;IKgBxC,ALhB0C,CAAC,EAAE,CAAL;EKiB1C,ACDDqB,ENhBmD,CAAC,EAAE,KMgB5C,GAAGE,UAAU,CAAC,YAAY;ENhBO,CASrB,CMQpB,IAAIC,KAAK,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,wBAA1B,CAAZ;EDEF,OAAO,GAAP;AACD,AFlBD,EHOwB,EMSpB,AHhBE,KGgBG,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,CHhBG,EGgBAH,CHhBY,IGgBP,CAACI,CNjBW,KMiBrC,EAAkCD,CAAC,EAAnC,EAAuC;EHhBP,EHDO,CAAC,CMkBtC,CNlBwC,CAAL,CGEvC,CGgBQrB,MAAM,AHhBP,CGgBQH,AHhBP,UGgBA,CAAkBqB,KAAK,CAACG,CAAD,CAAL,CAASb,IAA3B,MAAqCR,AHhBtC,CAD2B,KGiBiB,CAACT,YAAP,EAAzC,EAAgE;ADGtE,AFpBoC,CAAD,EAAnC,CHDiD,CAAC,EAAE,CMmB5CW,CDECL,SCFS,CDElB,ACFmBqB,CDECpB,GAApB,CCFwB,CDEC,ACFAuB,CAAD,CAAN,CAAV;EDGN,ALtBuC,CAQjB,GMYjB,GDEE,CAAC,KAAKvB,GAAN,EAAWC,OAAX,CAAmB,gFAAnB,EAAqG,IAArG,IAA6G,GAApH;AACD,AFpBD,IGkBK,AHlBC,oBAAoB,GAAY;EHKd,AGLc,OACpC,OAAO,CAAC,gBHHiC,gBGGlC,CAD6B;AEsBtCX,AFtBsC,CAAD,EAArC,CGoBI2B,ANtByC,CAAC,EKwBvC,ALxByC,CKwBxCxB,ALxBmC,MMsB7B,GAAG,GDEjB,CCFI,EDEmBD,kBAAvB;AACAF,ECFG,CATsB,CNd0B,CMuB9C,ANvB+C,EKyB7C,ACXkB,ANd6B,CKyB9CS,ACXN,UDWF,GAAqBA,UAArB;ACDC,ENxB0C,CAOnB,CGElB;;AGiBNV,ENnBwB,IMmBlB,CAACC,OAAP,GAAiB4B,SAAjB,ONzByB,CAMD;;EAAA,8BGGqB,EHRlB,KAKH;;EAAA,iCAJI,EGQa,GHJjB;;EAAA,kCGKc,QAAQ,CAAC,aAAT,CAAuB,QAAvB;;EHJlC,KAAK,EAAL,GAAU,EAAV,qBGKsB,IAAI,IAAJ,GAAW,OAAX;AHJvB;sCGM4B,KAAK,CAAC,CAAD;;qCACP,KAAK,CAAC,CAAD;;;;;WAAK;IAE9B,2BAAkB,GAAlB,EAAkC;MAAA;;MACvC,KAAK,MAAL,CAAY,KAAZ,CAAkB,KAAlB,GAA0B,MAA1B;MACA,KAAK,MAAL,CAAY,KAAZ,CAAkB,MAAlB,GAA2B,MAA3B;MACA,GAAG,CAAC,WAAJ,CAAgB,KAAK,MAArB;MACA,KAAK,EAAL,GAAU,KAAK,MAAL,CAAY,UAAZ,CAAuB,oBAAvB,CAAV;;MAEA,MAAM,CAAC,MAAP,GAAgB,YAAK;QACnB,KAAI,CAAC,IAAL;;QACA,KAAI,CAAC,MAAL;MACD,CAHD;IAID;;;WAEO,4BAAmB,EAAnB,EAA6B;MACnC,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,OAAL,CAAa,MAAjC,EAAyC,CAAC,EAA1C,EAA8C;QAC5C,IAAI,CAAC,KAAK,OAAL,CAAa,CAAb,CAAD,IAAoB,KAAK,OAAL,CAAa,CAAb,EAAgB,EAAhB,KAAuB,CAAC,CAAhD,EAAmD;UACjD,KAAK,QAAL,CAAc,EAAd,IAAoB,CAApB;UACA,OAAO,CAAP;QACD;MACF;;MACD,OAAO,CAAC,CAAR;IACD;;;WAEO,mCAAuB;MAC7B,KAAK,IAAI,CAAC,GAAG,KAAK,OAAL,CAAa,MAAb,GAAsB,CAAnC,EAAsC,CAAC,IAAI,CAA3C,EAA8C,CAAC,EAA/C,EAAmD;QACjD,IAAI,CAAC,KAAK,OAAL,CAAa,CAAb,CAAD,IAAoB,KAAK,OAAL,CAAa,CAAb,EAAgB,EAAhB,KAAuB,CAAC,CAAhD,EAAmD;UACjD;UACA,KAAK,QAAL,CAAc,CAAd,IAAmB,CAAnB;UACA,OAAO,CAAP;QACD,CAJD,MAIO,IACL,KAAK,OAAL,CAAa,CAAb,EAAgB,OAAhB,IACA,KAAK,OAAL,CAAa,CAAb,EAAgB,MADhB,IAEA,KAAK,OAAL,CAAa,CAAb,EAAgB,KAAhB,IAAyB,CAHpB,EAIL;UACA;UACA,KAAK,QAAL,CAAc,CAAd,IAAmB,CAAnB;UACA,OAAO,CAAP;QACD;MACF;;MACD,OAAO,CAAC,CAAR;IACD;;;WAEO,2BAAe;MACrB,KAAK,IAAI,CAAC,GAAG,KAAK,OAAL,CAAa,MAAb,GAAsB,CAAnC,EAAsC,CAAC,IAAI,CAA3C,EAA8C,CAAC,EAA/C,EAAmD;QACjD,IACE,KAAK,OAAL,CAAa,CAAb,KACA,KAAK,OAAL,CAAa,CAAb,EAAgB,EAAhB,KAAuB,CAAC,CADxB,IAEA,CAAC,KAAK,OAAL,CAAa,CAAb,EAAgB,MAFjB,IAGA,KAAK,OAAL,CAAa,CAAb,EAAgB,OAJlB,EAKE;UACA,OAAO,KAAK,OAAL,CAAa,CAAb,CAAP;QACD;MACF;;MACD,OAAO,IAAP;IACD;;;WAEO,gBACN,MADM,EAEN,CAFM,EAGN,CAHM,EAGG;MAET,IAAM,IAAI,GAAe,MAAM,CAAC,qBAAP,EAAzB;MACA,OAAO;QACL,CAAC,EAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAV,KAAmB,IAAI,CAAC,KAAL,GAAa,IAAI,CAAC,IAArC,CAAD,GAA+C,MAAM,CAAC,KADpD;QAEL,CAAC,EAAG,CAAC,CAAC,GAAG,IAAI,CAAC,MAAV,KAAqB,IAAI,CAAC,GAAL,GAAW,IAAI,CAAC,MAArC,CAAD,GAAiD,MAAM,CAAC;MAFtD,CAAP;IAID;;;WACO,qBACN,MADM,EAEN,GAFM,EAEI;MAEV,IAAM,QAAQ,GAAe,GAA7B;MACA,OAAO,KAAK,MAAL,CAAY,MAAZ,EAAoB,QAAQ,CAAC,OAA7B,EAAsC,QAAQ,CAAC,OAA/C,CAAP;IACD;;;WAEO,qBACN,MADM,EAEN,KAFM,EAEM;MAEZ,IAAM,IAAI,GAAe,MAAM,CAAC,qBAAP,EAAzB;MACA,OAAO,KAAK,MAAL,CAAY,MAAZ,EAAoB,KAAK,CAAC,OAA1B,EAAmC,KAAK,CAAC,OAAzC,CAAP;IACD;;;WAEO,mBAAO;MACb,KAAK,MAAL,CAAY,KAAZ,GAAoB,KAAK,MAAL,CAAY,WAAhC;MACA,KAAK,MAAL,CAAY,MAAZ,GAAqB,KAAK,MAAL,CAAY,YAAjC;IACD;;;WAEO,0BACN,gBADM,EAEN,eAFM,EAGN,KAHM,EAIN,OAJM,EAIS;MAEf,IAAM,EAAE,GAAW,MAAM,CAAC,WAAP,CAAmB,gBAAnB,EAAqC,KAArC,CAAnB;MACA,MAAM,CAAC,UAAP,CAAkB,YAAK;QACrB,MAAM,CAAC,aAAP,CAAqB,EAArB;QACA,eAAe;MAChB,CAHD,EAGG,OAHH;IAID;;;WAEO,wBAAY;MAAA;;MAClB,KAAK,MAAL,CAAY,gBAAZ,CACE,YADF,EAEE,UAAA,GAAG,EAAG;QACJ,IAAM,EAAE,GAAW,MAAI,CAAC,uBAAL,EAAnB;;QACA,IAAI,EAAE,GAAG,CAAT,EAAY;UACV,IAAM,KAAK,GAAU,IAAI,YAAJ,CAAU,EAAV,CAArB;UACA,KAAK,CAAC,OAAN,GAAgB,IAAhB;UACA,KAAK,CAAC,OAAN,GAAgB,MAAI,CAAC,WAAL,CAAiB,MAAI,CAAC,MAAtB,EAA8B,GAA9B,CAAhB;UACA,KAAK,CAAC,GAAN,GAAY,KAAK,CAAC,OAAlB;UACA,MAAI,CAAC,OAAL,CAAa,EAAb,IAAmB,KAAnB;QACD;MACF,CAXH,EAYE,KAZF;MAeA,KAAK,MAAL,CAAY,gBAAZ,CACE,WADF,EAEE,UAAA,GAAG,EAAG;QACJ,IAAI,KAAK,GAAiB,MAAI,CAAC,eAAL,EAA1B;;QACA,IAAI,CAAC,KAAL,EAAY;UACV,IAAM,EAAE,GAAW,MAAI,CAAC,uBAAL,EAAnB;;UACA,IAAI,EAAJ,EAAQ;YACN,KAAK,GAAG,IAAI,YAAJ,CAAU,EAAV,CAAR;YACA,KAAK,CAAC,OAAN,GAAgB,IAAhB;YACA,KAAK,CAAC,OAAN,GAAgB,MAAI,CAAC,WAAL,CAAiB,MAAI,CAAC,MAAtB,EAA8B,GAA9B,CAAhB;YACA,KAAK,CAAC,GAAN,GAAY,KAAK,CAAC,OAAlB;YACA,MAAI,CAAC,OAAL,CAAa,EAAb,IAAmB,KAAnB;UACD;QACF,CATD,MASO,IAAI,KAAJ,EAAW;UAChB,KAAK,CAAC,GAAN,GAAY,KAAK,CAAC,OAAlB;UACA,KAAK,CAAC,OAAN,GAAgB,MAAI,CAAC,WAAL,CAAiB,MAAI,CAAC,MAAtB,EAA8B,GAA9B,CAAhB;QACD;MACF,CAjBH,EAkBE,KAlBF;MAqBA,KAAK,MAAL,CAAY,gBAAZ,CACE,YADF,EAEE,UAAA,GAAG,EAAG;QACJ,IAAM,KAAK,GAAiB,MAAI,CAAC,eAAL,EAA5B;;QACA,IAAI,KAAJ,EAAW;UACT,KAAK,CAAC,MAAN,GAAe,IAAf;QACD;MACF,CAPH,EAQE,KARF;MAWA,KAAK,MAAL,CAAY,gBAAZ,CACE,YADF,EAEE,UAAA,GAAG,EAAG;QACJ,GAAG,CAAC,cAAJ,GADI,CAEJ;;QACA,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,GAAG,CAAC,cAAJ,CAAmB,MAAvC,EAA+C,CAAC,EAAhD,EAAoD;UAClD,IAAM,KAAK,GAAU,GAAG,CAAC,cAAJ,CAAmB,CAAnB,CAArB;;UACA,IAAM,EAAE,GAAG,MAAI,CAAC,kBAAL,CAAwB,KAAK,CAAC,UAA9B,CAAX;;UACA,IAAI,EAAE,IAAI,CAAV,EAAa;YACX,IAAM,KAAK,GAAU,IAAI,YAAJ,CAAU,EAAV,CAArB;YACA,KAAK,CAAC,OAAN,GAAgB,MAAI,CAAC,WAAL,CAAiB,MAAI,CAAC,MAAtB,EAA8B,KAA9B,CAAhB;YACA,KAAK,CAAC,GAAN,GAAY,KAAK,CAAC,OAAlB;YAEA,MAAI,CAAC,OAAL,CAAa,KAAK,CAAC,EAAnB,IAAyB,KAAzB;UACD;QACF;MACF,CAhBH,EAiBE,KAjBF;MAoBA,KAAK,MAAL,CAAY,gBAAZ,CACE,WADF,EAEE,UAAA,GAAG,EAAG;QACJ,GAAG,CAAC,cAAJ,GADI,CAEJ;;QACA,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,GAAG,CAAC,cAAJ,CAAmB,MAAvC,EAA+C,CAAC,EAAhD,EAAoD;UAClD,IAAM,KAAK,GAAU,GAAG,CAAC,cAAJ,CAAmB,CAAnB,CAArB;UACA,IAAM,EAAE,GAAG,MAAI,CAAC,QAAL,CAAc,KAAK,CAAC,UAApB,CAAX;;UACA,IAAI,EAAE,IAAI,CAAV,EAAa;YACX,IAAM,KAAK,GAAU,MAAI,CAAC,OAAL,CAAa,EAAb,CAArB;YACA,KAAK,CAAC,GAAN,GAAY,KAAK,CAAC,OAAlB;YACA,KAAK,CAAC,OAAN,GAAgB,MAAI,CAAC,WAAL,CAAiB,MAAI,CAAC,MAAtB,EAA8B,KAA9B,CAAhB;UACD;QACF;MACF,CAdH,EAeE,KAfF;MAkBA,KAAK,MAAL,CAAY,gBAAZ,CACE,UADF,EAEE,UAAA,GAAG,EAAG;QACJ,GAAG,CAAC,cAAJ;QACA,IAAM,GAAG,GAAa,KAAK,EAA3B,CAFI,CAGJ;;QACA,KAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,GAAG,CAAC,cAAJ,CAAmB,MAAvC,EAA+C,CAAC,EAAhD,EAAoD;UAClD,IAAM,KAAK,GAAU,GAAG,CAAC,cAAJ,CAAmB,CAAnB,CAArB;UACA,IAAM,EAAE,GAAG,MAAI,CAAC,QAAL,CAAc,KAAK,CAAC,UAApB,CAAX;;UACA,IAAI,EAAE,IAAI,CAAV,EAAa;YACX,IAAM,KAAK,GAAU,MAAI,CAAC,OAAL,CAAa,EAAb,CAArB;YACA,KAAK,CAAC,KAAN,GAAc;cACZ,CAAC,EAAE,KAAK,CAAC,OAAN,CAAc,CAAd,GAAkB,KAAK,CAAC,GAAN,CAAU,CADnB;cAEZ,CAAC,EAAE,KAAK,CAAC,OAAN,CAAc,CAAd,GAAkB,KAAK,CAAC,GAAN,CAAU;YAFnB,CAAd;YAIA,KAAK,CAAC,MAAN,GAAe,IAAf;YACA,GAAG,CAAC,IAAJ,CAAS,EAAT;UACD;QACF;;QAED,MAAI,CAAC,gBAAL,CACE,YAAK;UACH;UACA;UACA,KAAK,IAAI,EAAC,GAAG,CAAb,EAAgB,EAAC,GAAG,GAAG,CAAC,MAAxB,EAAgC,EAAC,EAAjC,EAAqC;YACnC,IAAM,GAAE,GAAG,GAAG,CAAC,EAAD,CAAd;;YACA,IAAI,GAAE,IAAI,CAAV,EAAa;cACX,IAAM,MAAK,GAAU,MAAI,CAAC,OAAL,CAAa,GAAb,CAArB;cACA,MAAK,CAAC,OAAN,GAAgB;gBACd,CAAC,EAAE,MAAK,CAAC,OAAN,CAAc,CAAd,GAAmB,MAAK,CAAC,KAAN,CAAY,CAAZ,GAAgB,MAAK,CAAC,KAAvB,GAAgC,GADvC;gBAEd,CAAC,EAAE,MAAK,CAAC,OAAN,CAAc,CAAd,GAAmB,MAAK,CAAC,KAAN,CAAY,CAAZ,GAAgB,MAAK,CAAC,KAAvB,GAAgC;cAFvC,CAAhB;YAID;UACF;QACF,CAdH,EAeE,YAAK;UACH;UACA;UACA,KAAK,IAAI,GAAC,GAAG,CAAb,EAAgB,GAAC,GAAG,GAAG,CAAC,MAAxB,EAAgC,GAAC,EAAjC,EAAqC;YACnC,IAAM,IAAE,GAAG,GAAG,CAAC,GAAD,CAAd;YACA,MAAI,CAAC,OAAL,CAAa,IAAb,IAAmB,IAAI,YAAJ,CAAU,CAAC,CAAX,CAAnB;UACD;QACF,CAtBH,EAuBE,EAvBF,EAwBE,IAxBF;MA0BD,CA9CH,EA+CE,KA/CF;;MAkDA,MAAM,CAAC,QAAP,GAAkB;QAAA,OAAM,UAAU,CAAC;UAAA,OAAM,MAAI,CAAC,OAAL,EAAN;QAAA,CAAD,EAAuB,CAAvB,CAAhB;MAAA,CAAlB;IACD;;;WAEO,gBAAI;MACV,IAAI,YAAJ;MACA,IAAI,cAAJ;MACA,KAAK,YAAL;MACA,KAAK,OAAL;;MACA,IAAI,KAAK,EAAT,EAAa;QACX,IAAM,MAAM,GAAuB,KAAK,EAAL,CAAQ,YAAR,EAAnC;QACA,KAAK,EAAL,CAAQ,UAAR,CAAmB,KAAK,EAAL,CAAQ,YAA3B,EAAyC,MAAzC;QACA,KAAK,EAAL,CAAQ,UAAR,CACE,KAAK,EAAL,CAAQ,YADV,EAEE,IAAI,YAAJ,CAAiB,CACf,CAAC,GADc,EAEf,CAAC,GAFc,EAGf,GAHe,EAIf,CAAC,GAJc,EAKf,CAAC,GALc,EAMf,GANe,EAOf,CAAC,GAPc,EAQf,GARe,EASf,GATe,EAUf,CAAC,GAVc,EAWf,GAXe,EAYf,GAZe,CAAjB,CAFF,EAgBE,KAAK,EAAL,CAAQ,WAhBV;QAkBA,KAAK,EAAL,CAAQ,QAAR,CACE,CADF,EAEE,CAFF,EAGE,KAAK,EAAL,CAAQ,kBAHV,EAIE,KAAK,EAAL,CAAQ,mBAJV;QAMA,YAAY,GAAG,KAAK,EAAL,CAAQ,YAAR,CAAqB,KAAK,EAAL,CAAQ,aAA7B,CAAf;QACA,KAAK,EAAL,CAAQ,YAAR,CAAqB,YAArB,EAAmC,kBAAnC;QACA,KAAK,EAAL,CAAQ,aAAR,CAAsB,YAAtB;QACA,cAAc,GAAG,KAAK,EAAL,CAAQ,YAAR,CAAqB,KAAK,EAAL,CAAQ,eAA7B,CAAjB;QACA,KAAK,EAAL,CAAQ,YAAR,CAAqB,cAArB,EAAqC,oBAArC;QACA,KAAK,EAAL,CAAQ,aAAR,CAAsB,cAAtB;QACA,KAAK,OAAL,GAAe,KAAK,EAAL,CAAQ,aAAR,EAAf;QACA,KAAK,EAAL,CAAQ,YAAR,CAAqB,KAAK,OAA1B,EAAmC,YAAnC;QACA,KAAK,EAAL,CAAQ,YAAR,CAAqB,KAAK,OAA1B,EAAmC,cAAnC;QACA,KAAK,EAAL,CAAQ,WAAR,CAAoB,KAAK,OAAzB;QACA,KAAK,EAAL,CAAQ,UAAR,CAAmB,KAAK,OAAxB;MACD;IACF;;;WAEO,2BAAe;MACrB,IAAI,KAAK,EAAT,EAAa;QACX,IAAM,gBAAgB,GAAW,KAAK,EAAL,CAAQ,iBAAR,CAC/B,KAAK,OAD0B,EAE/B,UAF+B,CAAjC;QAIA,KAAK,EAAL,CAAQ,uBAAR,CAAgC,gBAAhC;QACA,KAAK,EAAL,CAAQ,mBAAR,CACE,gBADF,EAEE,CAFF,EAGE,KAAK,EAAL,CAAQ,KAHV,EAIE,IAJF,EAKE,CALF,EAME,CANF;QASA,IAAM,kBAAkB,GAAgC,KAAK,EAAL,CAAQ,kBAAR,CACtD,KAAK,OADiD,EAEtD,YAFsD,CAAxD;QAIA,KAAK,EAAL,CAAQ,SAAR,CACE,kBADF,EAEE,KAAK,MAAL,CAAY,KAFd,EAGE,KAAK,MAAL,CAAY,MAHd;QAMA,IAAM,gBAAgB,GAAgC,KAAK,EAAL,CAAQ,kBAAR,CACpD,KAAK,OAD+C,EAEpD,UAFoD,CAAtD;QAIA,KAAK,EAAL,CAAQ,SAAR,CAAkB,gBAAlB,EAAoC,GAApC,EAAyC,GAAzC;QAEA,IAAM,YAAY,GAAgC,KAAK,EAAL,CAAQ,kBAAR,CAChD,KAAK,OAD2C,EAEhD,MAFgD,CAAlD;QAIA,KAAK,EAAL,CAAQ,SAAR,CACE,YADF,EAEE,CAAC,IAAI,IAAJ,GAAW,OAAX,KAAuB,KAAK,KAA7B,IAAsC,IAFxC;QAKA,IAAM,eAAe,GAAgC,KAAK,EAAL,CAAQ,kBAAR,CACnD,KAAK,OAD8C,EAEnD,SAFmD,CAArD;QAIA,KAAK,EAAL,CAAQ,SAAR,CAAkB,eAAlB,EAAmC,EAAnC;QAEA,IAAM,aAAa,GAAgC,KAAK,EAAL,CAAQ,kBAAR,CACjD,KAAK,OAD4C,EAEjD,OAFiD,CAAnD;QAIA,KAAK,EAAL,CAAQ,SAAR,CAAkB,aAAlB,EAAiC,KAAjC;QAEA,IAAM,cAAc,GAAgC,KAAK,EAAL,CAAQ,kBAAR,CAClD,KAAK,OAD6C,EAElD,QAFkD,CAApD;QAIA,KAAK,EAAL,CAAQ,SAAR,CAAkB,cAAlB,EAAkC,CAAlC,EAAqC,CAArC;QAEA,IAAM,aAAa,GAAgC,KAAK,EAAL,CAAQ,kBAAR,CACjD,KAAK,OAD4C,EAEjD,OAFiD,CAAnD;QAIA,KAAK,EAAL,CAAQ,SAAR,CAAkB,aAAlB,EAAiC,EAAjC,EAAqC,EAArC;QAEA,IAAI,OAAO,GAAW,CAAtB;;QACA,KAAK,IAAI,CAAC,GAAW,CAArB,EAAwB,CAAC,GAAG,CAA5B,EAA+B,CAAC,EAAhC,EAAoC;UAClC,IAAI,KAAK,OAAL,CAAa,CAAb,KAAmB,KAAK,OAAL,CAAa,CAAb,EAAgB,EAAhB,KAAuB,CAAC,CAA/C,EAAkD;YAChD,IAAM,aAAa,GAAgC,KAAK,EAAL,CAAQ,kBAAR,CACjD,KAAK,OAD4C,EAEjD,aAAa,OAAb,GAAuB,GAF0B,CAAnD;YAIA,KAAK,EAAL,CAAQ,SAAR,CACE,aADF,EAEE,KAAK,OAAL,CAAa,CAAb,EAAgB,OAAhB,CAAwB,CAF1B,EAGE,KAAK,OAAL,CAAa,CAAb,EAAgB,OAAhB,CAAwB,CAH1B,EAIE,KAAK,OAAL,CAAa,CAAb,EAAgB,KAAhB,GAAwB,GAJ1B;YAMA,OAAO;UACR;QACF;;QAED,IAAM,kBAAkB,GAAgC,KAAK,EAAL,CAAQ,kBAAR,CACtD,KAAK,OADiD,EAEtD,YAFsD,CAAxD;QAIA,KAAK,EAAL,CAAQ,SAAR,CAAkB,kBAAlB,EAAsC,OAAtC;MACD;IACF;;;WAEO,kBAAM;MAAA;;MACZ,IAAI,KAAK,EAAT,EAAa;QACX,KAAK,eAAL;QACA,KAAK,EAAL,CAAQ,UAAR,CAAmB,KAAK,EAAL,CAAQ,SAA3B,EAAsC,CAAtC,EAAyC,CAAzC;QACA,qBAAqB,CAAC;UAAA,OAAM,MAAI,CAAC,MAAL,EAAN;QAAA,CAAD,CAArB;;QAHW,2CAKS,KAAK,OALd;QAAA;;QAAA;UAKX,oDAAkC;YAAA,IAAvB,KAAuB;;YAChC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAf,IAAyB,KAAK,CAAC,KAAN,GAAc,CAA3C,EAA8C;cAC5C,KAAK,CAAC,KAAN,IAAe,CAAf;YACD,CAFD,MAEO,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,MAAhB,IAA0B,KAAK,CAAC,KAAN,GAAc,GAA5C,EAAiD;cACtD,KAAK,CAAC,KAAN,IAAe,CAAf;YACD;UACF;QAXU;UAAA;QAAA;UAAA;QAAA;MAYZ;IACF","file":"app.c61986b1.js","sourceRoot":"../src","sourcesContent":["export class Press {\n  public current: { x: number; y: number } = { x: 0, y: 0 };\n  public old: { x: number; y: number } = { x: 0, y: 0 };\n  public delta: { x: number; y: number } = { x: 0, y: 0 };\n  public power: number = 0;\n  public isDead: boolean = false;\n  public isMouse: boolean = false;\n\n  public readonly id: number;\n\n  constructor(id: number) {\n    this.id = id;\n  }\n}\n","module.exports=\"#define GLSLIFY 1\\nattribute vec2 position;\\n  void main() {\\n    gl_Position = vec4(position, 0, 1);\\n  }\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform float time;\\nuniform float gravity;\\nuniform float reach;\\nuniform int amtPresses;\\nuniform vec2 resolution;\\nuniform vec2 rotation;\\nuniform vec2 pitch; // number of grids\\nuniform vec3 presses[6];\\n\\nvec4 grid(float modX, float modY, float strength) {\\n\\tfloat density = 0.4 * (1.0 - abs((2.0-min(modX, modY))/2.0)); // grid alpa 0.5 and then anti alias.\\n\\treturn vec4(0.0, 0.0, 0.0, density*strength);\\n}\\n\\nvoid main() {\\n    float resLength = length(resolution);\\n\\n    vec2 pull = vec2(0.0, 0.0);\\n    float strength = 0.15;\\n    for(int i = 0; i<=6; i++){\\n        if (amtPresses==i)\\n            break;\\n        vec3 press = presses[i];\\n        vec2 delta = press.xy-gl_FragCoord.xy;\\n        float distance = length(delta);\\n        pull += delta * (gravity*press.z / (distance*distance + reach));\\n        \\n        float fade = max(0.0, 0.9-distance/resLength); // 1.2 due to some scaling\\n        float dist = min(1.0, max(0.0, press.z));\\n        strength = max(strength, fade*dist);\\n    }\\n\\n    vec2 newPos = pitch + pull;\\n\\n    float modX = mod(reach + gl_FragCoord.x, newPos.x);\\n    float modY = mod(reach + gl_FragCoord.y, newPos.y);\\n\\n\\tgl_FragColor = grid(modX, modY, strength);\\n}\";","import { Press } from './Press';\n\ndeclare function require(name: string): string;\nconst vertexShaderSource: string = (() =>\n  require('./glsl/2d-vertex-shader.glsl'))();\nconst fragmentShaderSource: string = (() =>\n  require('./glsl/2d-fragment-shader.glsl'))();\n\nexport interface IRenderable {\n  renderGravityGrid(div: HTMLElement): void;\n}\n\nclass Renderer implements IRenderable {\n  private gl: WebGLRenderingContext | null = null;\n  private program: WebGLProgram | null = null;\n  private canvas: HTMLCanvasElement = document.createElement('canvas');\n  private start: number = new Date().getTime();\n\n  private idMapper: number[] = Array(0);\n  private presses: Press[] = Array(6); // mouse + 5 touch points.\n\n  public renderGravityGrid(div: HTMLElement): void {\n    this.canvas.style.width = '100%';\n    this.canvas.style.height = '100%';\n    div.appendChild(this.canvas);\n    this.gl = this.canvas.getContext('experimental-webgl');\n\n    window.onload = () => {\n      this.init();\n      this.render();\n    };\n  }\n\n  private takeFirstFreeIndex(id: number): number {\n    for (let i = 0; i < this.presses.length; i++) {\n      if (!this.presses[i] || this.presses[i].id === -1) {\n        this.idMapper[id] = i;\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  private takeFirstFreeIndexMouse(): number {\n    for (let i = this.presses.length - 1; i >= 0; i--) {\n      if (!this.presses[i] || this.presses[i].id === -1) {\n        // no press\n        this.idMapper[i] = i;\n        return i;\n      } else if (\n        this.presses[i].isMouse &&\n        this.presses[i].isDead &&\n        this.presses[i].power <= 2\n      ) {\n        // dead press\n        this.idMapper[i] = i;\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  private findActiveMouse(): Press | null {\n    for (let i = this.presses.length - 1; i >= 0; i--) {\n      if (\n        this.presses[i] &&\n        this.presses[i].id !== -1 &&\n        !this.presses[i].isDead &&\n        this.presses[i].isMouse\n      ) {\n        return this.presses[i];\n      }\n    }\n    return null;\n  }\n\n  private getPos(\n    canvas: HTMLCanvasElement,\n    x: number,\n    y: number\n  ): { x: number; y: number } {\n    const rect: ClientRect = canvas.getBoundingClientRect();\n    return {\n      x: ((x - rect.left) / (rect.right - rect.left)) * canvas.width,\n      y: ((y - rect.bottom) / (rect.top - rect.bottom)) * canvas.height,\n    };\n  }\n  private getMousePos(\n    canvas: HTMLCanvasElement,\n    evt: Event\n  ): { x: number; y: number } {\n    const mouseEvt: MouseEvent = evt as MouseEvent;\n    return this.getPos(canvas, mouseEvt.clientX, mouseEvt.clientY);\n  }\n\n  private getTouchPos(\n    canvas: HTMLCanvasElement,\n    touch: Touch\n  ): { x: number; y: number } {\n    const rect: ClientRect = canvas.getBoundingClientRect();\n    return this.getPos(canvas, touch.clientX, touch.clientY);\n  }\n\n  private getSize(): void {\n    this.canvas.width = this.canvas.clientWidth;\n    this.canvas.height = this.canvas.clientHeight;\n  }\n\n  private setTimedInterval(\n    callbackInterval: () => void,\n    callbackTimeout: () => void,\n    delay: number,\n    timeout: number\n  ): void {\n    const id: number = window.setInterval(callbackInterval, delay);\n    window.setTimeout(() => {\n      window.clearInterval(id);\n      callbackTimeout();\n    }, timeout);\n  }\n\n  private addListeners(): void {\n    this.canvas.addEventListener(\n      'mouseenter',\n      evt => {\n        const id: number = this.takeFirstFreeIndexMouse();\n        if (id > 0) {\n          const press: Press = new Press(id);\n          press.isMouse = true;\n          press.current = this.getMousePos(this.canvas, evt);\n          press.old = press.current;\n          this.presses[id] = press;\n        }\n      },\n      false\n    );\n\n    this.canvas.addEventListener(\n      'mousemove',\n      evt => {\n        let press: Press | null = this.findActiveMouse();\n        if (!press) {\n          const id: number = this.takeFirstFreeIndexMouse();\n          if (id) {\n            press = new Press(id);\n            press.isMouse = true;\n            press.current = this.getMousePos(this.canvas, evt);\n            press.old = press.current;\n            this.presses[id] = press;\n          }\n        } else if (press) {\n          press.old = press.current;\n          press.current = this.getMousePos(this.canvas, evt);\n        }\n      },\n      false\n    );\n\n    this.canvas.addEventListener(\n      'mouseleave',\n      evt => {\n        const press: Press | null = this.findActiveMouse();\n        if (press) {\n          press.isDead = true;\n        }\n      },\n      false\n    );\n\n    this.canvas.addEventListener(\n      'touchstart',\n      evt => {\n        evt.preventDefault();\n        // tslint:disable-next-line:prefer-for-of\n        for (let i = 0; i < evt.changedTouches.length; i++) {\n          const touch: Touch = evt.changedTouches[i];\n          const id = this.takeFirstFreeIndex(touch.identifier);\n          if (id >= 0) {\n            const press: Press = new Press(id);\n            press.current = this.getTouchPos(this.canvas, touch);\n            press.old = press.current;\n\n            this.presses[press.id] = press;\n          }\n        }\n      },\n      false\n    );\n\n    this.canvas.addEventListener(\n      'touchmove',\n      evt => {\n        evt.preventDefault();\n        // tslint:disable-next-line:prefer-for-of\n        for (let i = 0; i < evt.changedTouches.length; i++) {\n          const touch: Touch = evt.changedTouches[i];\n          const id = this.idMapper[touch.identifier];\n          if (id >= 0) {\n            const press: Press = this.presses[id];\n            press.old = press.current;\n            press.current = this.getTouchPos(this.canvas, touch);\n          }\n        }\n      },\n      false\n    );\n\n    this.canvas.addEventListener(\n      'touchend',\n      evt => {\n        evt.preventDefault();\n        const ids: number[] = Array();\n        // tslint:disable-next-line:prefer-for-of\n        for (let i = 0; i < evt.changedTouches.length; i++) {\n          const touch: Touch = evt.changedTouches[i];\n          const id = this.idMapper[touch.identifier];\n          if (id >= 0) {\n            const press: Press = this.presses[id];\n            press.delta = {\n              x: press.current.x - press.old.x,\n              y: press.current.y - press.old.y,\n            };\n            press.isDead = true;\n            ids.push(id);\n          }\n        }\n\n        this.setTimedInterval(\n          () => {\n            // interval\n            // tslint:disable-next-line:prefer-for-of\n            for (let i = 0; i < ids.length; i++) {\n              const id = ids[i];\n              if (id >= 0) {\n                const press: Press = this.presses[id];\n                press.current = {\n                  x: press.current.x + (press.delta.x * press.power) / 250,\n                  y: press.current.y + (press.delta.y * press.power) / 250,\n                };\n              }\n            }\n          },\n          () => {\n            // timeout\n            // tslint:disable-next-line:prefer-for-of\n            for (let i = 0; i < ids.length; i++) {\n              const id = ids[i];\n              this.presses[id] = new Press(-1);\n            }\n          },\n          18,\n          2000\n        );\n      },\n      false\n    );\n\n    window.onresize = () => setTimeout(() => this.getSize(), 1);\n  }\n\n  private init(): void {\n    let vertexShader: WebGLShader | null;\n    let fragmentShader: WebGLShader | null;\n    this.addListeners();\n    this.getSize();\n    if (this.gl) {\n      const buffer: WebGLBuffer | null = this.gl.createBuffer();\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer);\n      this.gl.bufferData(\n        this.gl.ARRAY_BUFFER,\n        new Float32Array([\n          -1.0,\n          -1.0,\n          1.0,\n          -1.0,\n          -1.0,\n          1.0,\n          -1.0,\n          1.0,\n          1.0,\n          -1.0,\n          1.0,\n          1.0,\n        ]),\n        this.gl.STATIC_DRAW\n      );\n      this.gl.viewport(\n        0,\n        0,\n        this.gl.drawingBufferWidth,\n        this.gl.drawingBufferHeight\n      );\n      vertexShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n      this.gl.shaderSource(vertexShader, vertexShaderSource);\n      this.gl.compileShader(vertexShader);\n      fragmentShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n      this.gl.shaderSource(fragmentShader, fragmentShaderSource);\n      this.gl.compileShader(fragmentShader);\n      this.program = this.gl.createProgram();\n      this.gl.attachShader(this.program, vertexShader);\n      this.gl.attachShader(this.program, fragmentShader);\n      this.gl.linkProgram(this.program);\n      this.gl.useProgram(this.program);\n    }\n  }\n\n  private addGLProperties(): void {\n    if (this.gl) {\n      const positionLocation: number = this.gl.getAttribLocation(\n        this.program,\n        'position'\n      );\n      this.gl.enableVertexAttribArray(positionLocation);\n      this.gl.vertexAttribPointer(\n        positionLocation,\n        2,\n        this.gl.FLOAT,\n        true,\n        0,\n        0\n      );\n\n      const resolutionPosition: WebGLUniformLocation | null = this.gl.getUniformLocation(\n        this.program,\n        'resolution'\n      );\n      this.gl.uniform2f(\n        resolutionPosition,\n        this.canvas.width,\n        this.canvas.height\n      );\n\n      const rotationPosition: WebGLUniformLocation | null = this.gl.getUniformLocation(\n        this.program,\n        'rotation'\n      );\n      this.gl.uniform2f(rotationPosition, 0.5, 0.8);\n\n      const timePosition: WebGLUniformLocation | null = this.gl.getUniformLocation(\n        this.program,\n        'time'\n      );\n      this.gl.uniform1f(\n        timePosition,\n        (new Date().getTime() - this.start) / 1000\n      );\n\n      const gravityPosition: WebGLUniformLocation | null = this.gl.getUniformLocation(\n        this.program,\n        'gravity'\n      );\n      this.gl.uniform1f(gravityPosition, 70);\n\n      const reachPosition: WebGLUniformLocation | null = this.gl.getUniformLocation(\n        this.program,\n        'reach'\n      );\n      this.gl.uniform1f(reachPosition, 10000);\n\n      const offsetPosition: WebGLUniformLocation | null = this.gl.getUniformLocation(\n        this.program,\n        'offset'\n      );\n      this.gl.uniform2f(offsetPosition, 0, 0);\n\n      const pitchPosition: WebGLUniformLocation | null = this.gl.getUniformLocation(\n        this.program,\n        'pitch'\n      );\n      this.gl.uniform2f(pitchPosition, 80, 80);\n\n      let presses: number = 0;\n      for (let i: number = 0; i < 7; i++) {\n        if (this.presses[i] && this.presses[i].id !== -1) {\n          const pressPosition: WebGLUniformLocation | null = this.gl.getUniformLocation(\n            this.program,\n            'presses[' + presses + ']'\n          );\n          this.gl.uniform3f(\n            pressPosition,\n            this.presses[i].current.x,\n            this.presses[i].current.y,\n            this.presses[i].power / 250\n          );\n          presses++;\n        }\n      }\n\n      const amtPressesPosition: WebGLUniformLocation | null = this.gl.getUniformLocation(\n        this.program,\n        'amtPresses'\n      );\n      this.gl.uniform1i(amtPressesPosition, presses);\n    }\n  }\n\n  private render(): void {\n    if (this.gl) {\n      this.addGLProperties();\n      this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n      requestAnimationFrame(() => this.render());\n\n      for (const press of this.presses) {\n        if (press && press.isDead && press.power > 0) {\n          press.power -= 2;\n        } else if (press && !press.isDead && press.power < 200) {\n          press.power += 7;\n        }\n      }\n    }\n  }\n}\n\nexport { Renderer };\n","import './acrylic.scss';\nimport './base.scss';\n\nimport { IRenderable, Renderer } from './renderer';\n\nconst renderer: IRenderable = new Renderer();\n\nconst el = document.getElementById('grid');\nif (el) {\n  renderer.renderGravityGrid(el);\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}